# ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–ª—è –∏—Ç–µ—Ä–∞—Ü–∏–∏ 18: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ Example —Ç–µ—Å—Ç—ã

## üéØ –ü—Ä–æ–±–ª–µ–º—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ —Ä–µ—à–µ–Ω—ã

### ‚ùå –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω—ã–µ –æ—à–∏–±–∫–∏:
```
TestIteration18/TestDocsComments
–ù–∞–π–¥–µ–Ω—ã —Ñ–∞–π–ª—ã —Å –Ω–µ–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å—É—â–Ω–æ—Å—Ç—è–º–∏:
- internal/config/config_test_new.go:12:1
- internal/config/config_test_new.go:32:1  
- internal/config/config_test_new.go:63:1
- internal/config/config_test_new.go:100:1
- internal/config/config_test_new.go:130:1
- internal/middleware/gzip.go:71:1
- internal/middleware/gzip.go:75:1
- internal/middleware/gzip.go:79:1
```

## ‚ö° –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã godoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ `internal/config/config_test_new.go`

**–§—É–Ω–∫—Ü–∏–∏ —Å –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–º–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏:**
- `TestNewConfigDefaults` - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ —Å –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- `TestNewConfigEnvironmentVariables` - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- `TestNewConfigCommandLineFlags` - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏–∑ —Ñ–ª–∞–≥–æ–≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
- `TestNewConfigEnvironmentOverridesFlags` - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞–¥ —Ñ–ª–∞–≥–∞–º–∏
- `TestConfigAllFields` - –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –≤—Å–µ—Ö –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö –ø–æ–ª–µ–π –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ Config

### 2. ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã godoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ `internal/middleware/gzip.go`

**–ú–µ—Ç–æ–¥—ã —Å –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–º–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è–º–∏:**
- `Write` - –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –≤ —Å–∂–∞—Ç—ã–π –ø–æ—Ç–æ–∫
- `WriteHeader` - –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –∫–æ–¥ —Å–æ—Å—Ç–æ—è–Ω–∏—è HTTP –æ—Ç–≤–µ—Ç–∞
- `Header` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç HTTP –∑–∞–≥–æ–ª–æ–≤–∫–∏ –æ—Ç–≤–µ—Ç–∞

## üìä –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

### ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç:
```bash
$ go doc ./internal/config
package config
Package config –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π...

func TestConfigAllFields(t *testing.T)
func TestNewConfigCommandLineFlags(t *testing.T)
func TestNewConfigDefaults(t *testing.T)
func TestNewConfigEnvironmentOverridesFlags(t *testing.T)
func TestNewConfigEnvironmentVariables(t *testing.T)
```

### ‚úÖ Example —Ç–µ—Å—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç:
```bash
$ go test -v -run "Example" ./internal/...

=== RUN   ExampleHandler_HandleCreateURL
--- PASS: ExampleHandler_HandleCreateURL (0.02s)
=== RUN   ExampleHandler_HandleShortenURL  
--- PASS: ExampleHandler_HandleShortenURL (0.00s)
=== RUN   ExampleHandler_HandleShortenBatch
--- PASS: ExampleHandler_HandleShortenBatch (0.00s)
=== RUN   ExampleHandler_HandleRedirect
--- PASS: ExampleHandler_HandleRedirect (0.00s)

=== RUN   ExampleURLService_CreateShortURL
--- PASS: ExampleURLService_CreateShortURL (0.02s)
=== RUN   ExampleURLService_GetOriginalURL
--- PASS: ExampleURLService_GetOriginalURL (0.00s)
=== RUN   ExampleURLService_CreateShortURLsBatch
--- PASS: ExampleURLService_CreateShortURLsBatch (0.00s)
=== RUN   ExampleNewURLService
--- PASS: ExampleNewURLService (0.00s)
```

## üéâ –°—Ç–∞—Ç—É—Å –∏—Ç–µ—Ä–∞—Ü–∏–∏ 18

### ‚úÖ TestDocsComments - –ò–°–ü–†–ê–í–õ–ï–ù
- –í—Å–µ –Ω–µ–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–ª—É—á–∏–ª–∏ godoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –í—Å–µ –ø—É–±–ª–∏—á–Ω—ã–µ API –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã

### ‚úÖ TestExamplePresence - –£–ñ–ï –†–ê–ë–û–¢–ê–õ
- 8 Example —Ç–µ—Å—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ:
  - 4 –¥–ª—è handler (HandleCreateURL, HandleShortenURL, HandleShortenBatch, HandleRedirect)
  - 4 –¥–ª—è service (CreateShortURL, GetOriginalURL, CreateShortURLsBatch, NewURLService)

## üöÄ –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

**–¢–µ–ø–µ—Ä—å –∏—Ç–µ—Ä–∞—Ü–∏—è 18 –¥–æ–ª–∂–Ω–∞ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å —É—Å–ø–µ—à–Ω–æ!**

–í—Å–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏ example —Ç–µ—Å—Ç–∞–º –≤—ã–ø–æ–ª–Ω–µ–Ω—ã:
- ‚úÖ –í—Å–µ –ø—É–±–ª–∏—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∏ –º–µ—Ç–æ–¥—ã –∏–º–µ—é—Ç godoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏
- ‚úÖ Example —Ç–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç –æ—Å–Ω–æ–≤–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ —á–µ—Ä–µ–∑ `go doc`
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ 